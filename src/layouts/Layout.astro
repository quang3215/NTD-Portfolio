---
const { title = "My Portfolio", description = "Welcome to my portfolio" } =
  Astro.props;
---

<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>{title}</title>
    <meta name="description" content={description} />
    <link rel="stylesheet" href="/src/styles/global.css" />

    <!-- Favicon cơ bản -->
    <link rel="icon" href="/NTD-Portfolio/favicon.ico" type="image/x-icon" />
    <link
      rel="icon"
      href="/NTD-Portfolio/favicon-96x96.png"
      sizes="96x96"
      type="image/png"
    />

    <!-- Apple Touch Icon (iOS) -->
    <link rel="apple-touch-icon" href="/NTD-Portfolio/apple-touch-icon.png" />

    <!-- PWA manifest -->
    <link rel="manifest" href="/NTD-Portfolio/site.webmanifest" />
  </head>
  <body>
    <header>
      <nav class="navbar">
        <a
          href="https://github.com/NekoTheDev"
          target="_blank"
          rel="noopener noreferrer"
          class="logo">NekoTheDev</a
        >

        <div class="menu-toggle" id="menu-toggle">☰</div>

        <ul class="nav-links" id="nav-links">
          <li>
            <a
              href="#hero"
              onclick=" document.querySelector('#hero').scrollIntoView({behavior:'smooth'}); return false;"
              >Home</a>
          </li>
          <li>
            <a
              href="#about"
              onclick="document.querySelector('#about').scrollIntoView({behavior:'smooth'}); return false;"
              >About</a>
          </li>
          <li>
            <a
              href="#projects"
              onclick="document.querySelector('#projects').scrollIntoView({behavior:'smooth'}); return false;"
              >Projects</a>
          </li>
          <li>
            <a
              href="#skills"
              onclick="document.querySelector('#skills').scrollIntoView({behavior:'smooth'}); return false;"
              >Skills</a>
          </li>
        </ul>
      </nav>
    </header>

    <main>
      <slot />
    </main>
    <footer>
      <p>© {new Date().getFullYear()} NekoTheDev. All rights reserved.</p>
    </footer>

    <!-- JS thu nhỏ navbar khi scroll -->
    <script>
      window.addEventListener("scroll", () => {
        if (window.scrollY > 50) {
          document.body.classList.add("scrolled");
        } else {
          document.body.classList.remove("scrolled");
        }
      });
    </script>

    <script>
      document.addEventListener("DOMContentLoaded", () => {
        const menuToggle = document.getElementById(
          "menu-toggle"
        ) as HTMLElement | null;
        const navLinks = document.getElementById(
          "nav-links"
        ) as HTMLElement | null;

        if (!menuToggle || !navLinks) return; // TS hết kêu null

        menuToggle.addEventListener("click", () => {
          navLinks.classList.toggle("active");
          menuToggle.classList.toggle("open");
        });

        // Đóng menu khi bấm vào một link (trên mobile)
        navLinks.querySelectorAll("a").forEach((a) => {
          a.addEventListener("click", () =>
            navLinks.classList.remove("active")
          );
        });
      });
    </script>
  </body>
</html>
